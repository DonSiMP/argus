<launch>
  
  <group ns="calibration_target">
    
    # AprilTag 36h11 ID 0
    <rosparam command="load" file="$(env HOME)/.ros/object_info/apriltag_36h11_id0.yaml"/>

    <node pkg="lookup" type="lookup_file_registrar" name="fiducial_registrar">
      <rosparam subst_value="true" param="file_path">
        $(find manycal)/launch/calibration_lookup_config.yaml
      </rosparam>
    </node>

    <node pkg="manycal" type="dummy_odometry" name="dummy_odometer" output="screen">
      <remap from="displacements" to="odometry"/>
      <rosparam>
        rate: 10.0
        frame_id: calibration_target
      </rosparam>
    </node>

  </group>
   
  <node pkg="manycal" type="array_calibrator_node" name="calibrator" output="screen">
    <rosparam>
      calibration_targets: [robot, calibration_target]
    </rosparam>
  </node>
  
</launch>
